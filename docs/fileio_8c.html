<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kalashnikov DB: file/fileio.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Kalashnikov DB
   &#160;<span id="projectnumber">0.9.3</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('fileio_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">fileio.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="fileio_8h_source.html">fileio.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for fileio.c:</div>
<div class="dyncontent">
<div class="center"><img src="fileio_8c__incl.png" border="0" usemap="#file_2fileio_8c" alt=""/></div>
<!-- MAP 0 -->
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad23429ae9b1f62f4859f2a2f39f6fd41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileio_8c.html#ad23429ae9b1f62f4859f2a2f39f6fd41">AK_Insert_New_Element_For_Update</a> (int newtype, void *data, char *table, char *attribute_name, struct <a class="el" href="structlist__node.html">list_node</a> *ElementBefore, int newconstraint)</td></tr>
<tr class="memdesc:ad23429ae9b1f62f4859f2a2f39f6fd41"><td class="mdescLeft">&#160;</td><td class="mdescRight">!! YOU PROBABLY DON'T WANT TO USE THIS FUNCTION !! - Use AK_Update_Existing_Element or AK_Insert_New_Element instead. Function inserts new element after some element, to insert on first place give list as before element. New element is allocated. Type, data, attribute name and constraint of new elemets are set according to function arguments. Pointers are changed so that before element points to new element.  <a href="fileio_8c.html#ad23429ae9b1f62f4859f2a2f39f6fd41">More...</a><br /></td></tr>
<tr class="separator:ad23429ae9b1f62f4859f2a2f39f6fd41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23547a35c7bdc6edb9f0a2ac140d3221"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileio_8c.html#a23547a35c7bdc6edb9f0a2ac140d3221">AK_Update_Existing_Element</a> (int newtype, void *data, char *table, char *attribute_name, struct <a class="el" href="structlist__node.html">list_node</a> *ElementBefore)</td></tr>
<tr class="memdesc:a23547a35c7bdc6edb9f0a2ac140d3221"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to add a constraint attribute which will define what element gets updated when the operation is executed.  <a href="fileio_8c.html#a23547a35c7bdc6edb9f0a2ac140d3221">More...</a><br /></td></tr>
<tr class="separator:a23547a35c7bdc6edb9f0a2ac140d3221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad080df481e8e363f4b696465368a0f28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileio_8c.html#ad080df481e8e363f4b696465368a0f28">AK_Insert_New_Element</a> (int newtype, void *data, char *table, char *attribute_name, struct <a class="el" href="structlist__node.html">list_node</a> *ElementBefore)</td></tr>
<tr class="memdesc:ad080df481e8e363f4b696465368a0f28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to add a new element after some element, to insert on first place give list as before element. It calls function AK_Insert_New_Element_For_Update.  <a href="fileio_8c.html#ad080df481e8e363f4b696465368a0f28">More...</a><br /></td></tr>
<tr class="separator:ad080df481e8e363f4b696465368a0f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c64f8efc4d19af4470cd464841a9e09"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileio_8c.html#a0c64f8efc4d19af4470cd464841a9e09">AK_insert_row_to_block</a> (struct <a class="el" href="structlist__node.html">list_node</a> *row_root, <a class="el" href="structAK__block.html">AK_block</a> *temp_block)</td></tr>
<tr class="memdesc:a0c64f8efc4d19af4470cd464841a9e09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function inserts one row into some block. Firstly it checks wether block contain attributes from the list. Then data, type, size and last_tuple_id are put in temp_block.  <a href="fileio_8c.html#a0c64f8efc4d19af4470cd464841a9e09">More...</a><br /></td></tr>
<tr class="separator:a0c64f8efc4d19af4470cd464841a9e09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afca67a1ee5ada6576c78b1b88412ac4a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileio_8c.html#afca67a1ee5ada6576c78b1b88412ac4a">AK_insert_row</a> (struct <a class="el" href="structlist__node.html">list_node</a> *row_root)</td></tr>
<tr class="memdesc:afca67a1ee5ada6576c78b1b88412ac4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function inserts a one row into table. Firstly it is checked whether inserted row would violite reference integrity. Then it is checked in which table should row be inserted. If there is no AK_free space for new table, new extent is allocated. New block is allocated on given address. Row is inserted in this block and dirty flag is set to BLOCK_DIRTY.  <a href="fileio_8c.html#afca67a1ee5ada6576c78b1b88412ac4a">More...</a><br /></td></tr>
<tr class="separator:afca67a1ee5ada6576c78b1b88412ac4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf7fe78c26331b2a3a9f9b04b60be9e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileio_8c.html#abf7fe78c26331b2a3a9f9b04b60be9e1">AK_update_row_from_block</a> (<a class="el" href="structAK__block.html">AK_block</a> *temp_block, struct <a class="el" href="structlist__node.html">list_node</a> *row_root)</td></tr>
<tr class="memdesc:abf7fe78c26331b2a3a9f9b04b60be9e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function updates row from table in given block.  <a href="fileio_8c.html#abf7fe78c26331b2a3a9f9b04b60be9e1">More...</a><br /></td></tr>
<tr class="separator:abf7fe78c26331b2a3a9f9b04b60be9e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ce942c958110f13e0e641312badd5bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileio_8c.html#a4ce942c958110f13e0e641312badd5bb">AK_delete_row_from_block</a> (<a class="el" href="structAK__block.html">AK_block</a> *temp_block, struct <a class="el" href="structlist__node.html">list_node</a> *row_root)</td></tr>
<tr class="memdesc:a4ce942c958110f13e0e641312badd5bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function deletes row from table in given block. Given list of elements is firstly back-upped.  <a href="fileio_8c.html#a4ce942c958110f13e0e641312badd5bb">More...</a><br /></td></tr>
<tr class="separator:a4ce942c958110f13e0e641312badd5bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6a33a05962177231f28055b1a135fd4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileio_8c.html#ad6a33a05962177231f28055b1a135fd4">AK_delete_update_segment</a> (struct <a class="el" href="structlist__node.html">list_node</a> *row_root, int del)</td></tr>
<tr class="memdesc:ad6a33a05962177231f28055b1a135fd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function updates or deletes the whole segment of an table. Addresses for given table atr fetched. For each block in extent row is updated or deleted according to operator del.  <a href="fileio_8c.html#ad6a33a05962177231f28055b1a135fd4">More...</a><br /></td></tr>
<tr class="separator:ad6a33a05962177231f28055b1a135fd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91ac5f504fe4c9283d33b23ab025a44b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileio_8c.html#a91ac5f504fe4c9283d33b23ab025a44b">AK_delete_row</a> (struct <a class="el" href="structlist__node.html">list_node</a> *row_root)</td></tr>
<tr class="memdesc:a91ac5f504fe4c9283d33b23ab025a44b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function deletes rows.  <a href="fileio_8c.html#a91ac5f504fe4c9283d33b23ab025a44b">More...</a><br /></td></tr>
<tr class="separator:a91ac5f504fe4c9283d33b23ab025a44b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24798cb0a921cf23a95c2173ba19d3dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileio_8c.html#a24798cb0a921cf23a95c2173ba19d3dd">AK_delete_row_by_id</a> (int id, char *tableName)</td></tr>
<tr class="memdesc:a24798cb0a921cf23a95c2173ba19d3dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function deletes row by id.  <a href="fileio_8c.html#a24798cb0a921cf23a95c2173ba19d3dd">More...</a><br /></td></tr>
<tr class="separator:a24798cb0a921cf23a95c2173ba19d3dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ebc19a796fd12ceb80d74596df11c35"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileio_8c.html#a7ebc19a796fd12ceb80d74596df11c35">AK_update_row</a> (struct <a class="el" href="structlist__node.html">list_node</a> *row_root)</td></tr>
<tr class="memdesc:a7ebc19a796fd12ceb80d74596df11c35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function updates rows of some table.  <a href="fileio_8c.html#a7ebc19a796fd12ceb80d74596df11c35">More...</a><br /></td></tr>
<tr class="separator:a7ebc19a796fd12ceb80d74596df11c35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95a5109a3fef80e96d8602c7e3668a97"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTestResult.html">TestResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileio_8c.html#a95a5109a3fef80e96d8602c7e3668a97">AK_fileio_test</a> ()</td></tr>
<tr class="separator:a95a5109a3fef80e96d8602c7e3668a97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides functions for file input/output </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a91ac5f504fe4c9283d33b23ab025a44b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91ac5f504fe4c9283d33b23ab025a44b">&#9670;&nbsp;</a></span>AK_delete_row()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AK_delete_row </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlist__node.html">list_node</a> *&#160;</td>
          <td class="paramname"><em>row_root</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function deletes rows. </p>
<dl class="section author"><dt>Author</dt><dd>Matija Novak, Dejan Frankovic (added referential integrity) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">row_root</td><td>elements of one row @returs EXIT_SUCCESS if success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a24798cb0a921cf23a95c2173ba19d3dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24798cb0a921cf23a95c2173ba19d3dd">&#9670;&nbsp;</a></span>AK_delete_row_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AK_delete_row_by_id </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>tableName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function deletes row by id. </p>
<dl class="section author"><dt>Author</dt><dd>Dražen Bandić </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id of row </td></tr>
    <tr><td class="paramname">tableName</td><td>name of table to delete the row </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4ce942c958110f13e0e641312badd5bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ce942c958110f13e0e641312badd5bb">&#9670;&nbsp;</a></span>AK_delete_row_from_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AK_delete_row_from_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAK__block.html">AK_block</a> *&#160;</td>
          <td class="paramname"><em>temp_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__node.html">list_node</a> *&#160;</td>
          <td class="paramname"><em>row_root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function deletes row from table in given block. Given list of elements is firstly back-upped. </p>
<dl class="section author"><dt>Author</dt><dd>Matija Novak, updated by Dino Laktašić, changed by Davorin Vukelic, updated by Mario Peroković </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">temp_block</td><td>block to work with </td></tr>
    <tr><td class="paramname">row_list</td><td>list of elements which contain data for delete or update </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>No return value </dd></dl>

</div>
</div>
<a id="ad6a33a05962177231f28055b1a135fd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6a33a05962177231f28055b1a135fd4">&#9670;&nbsp;</a></span>AK_delete_update_segment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AK_delete_update_segment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlist__node.html">list_node</a> *&#160;</td>
          <td class="paramname"><em>row_root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>del</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function updates or deletes the whole segment of an table. Addresses for given table atr fetched. For each block in extent row is updated or deleted according to operator del. </p>
<dl class="section author"><dt>Author</dt><dd>Matija Novak, updated by Matija Šestak (function now uses caching) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">row_root</td><td>elements of one row </td></tr>
    <tr><td class="paramname">del</td><td>- DELETE or UPDATE </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EXIT_SUCCESS if success </dd></dl>

</div>
</div>
<a id="a95a5109a3fef80e96d8602c7e3668a97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95a5109a3fef80e96d8602c7e3668a97">&#9670;&nbsp;</a></span>AK_fileio_test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structTestResult.html">TestResult</a> AK_fileio_test </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad080df481e8e363f4b696465368a0f28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad080df481e8e363f4b696465368a0f28">&#9670;&nbsp;</a></span>AK_Insert_New_Element()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AK_Insert_New_Element </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>attribute_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__node.html">list_node</a> *&#160;</td>
          <td class="paramname"><em>ElementBefore</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to add a new element after some element, to insert on first place give list as before element. It calls function AK_Insert_New_Element_For_Update. </p>
<dl class="section author"><dt>Author</dt><dd>Matija Novak, changed by Dino Laktašić </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newtype</td><td>type of the data </td></tr>
    <tr><td class="paramname">data</td><td>the data </td></tr>
    <tr><td class="paramname">table</td><td>table name </td></tr>
    <tr><td class="paramname">attribute_name</td><td>attribute name </td></tr>
    <tr><td class="paramname">element</td><td>element after we which insert the new element </td></tr>
    <tr><td class="paramname">constraint</td><td>is NEW_VALUE </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>No return value </dd></dl>

</div>
</div>
<a id="ad23429ae9b1f62f4859f2a2f39f6fd41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad23429ae9b1f62f4859f2a2f39f6fd41">&#9670;&nbsp;</a></span>AK_Insert_New_Element_For_Update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AK_Insert_New_Element_For_Update </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>attribute_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__node.html">list_node</a> *&#160;</td>
          <td class="paramname"><em>ElementBefore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newconstraint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>!! YOU PROBABLY DON'T WANT TO USE THIS FUNCTION !! - Use AK_Update_Existing_Element or AK_Insert_New_Element instead. Function inserts new element after some element, to insert on first place give list as before element. New element is allocated. Type, data, attribute name and constraint of new elemets are set according to function arguments. Pointers are changed so that before element points to new element. </p>
<dl class="section author"><dt>Author</dt><dd>Matija Novak </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newtype</td><td>type of the data </td></tr>
    <tr><td class="paramname">data</td><td>the data </td></tr>
    <tr><td class="paramname">table</td><td>table name </td></tr>
    <tr><td class="paramname">attribute_name</td><td>attribute name </td></tr>
    <tr><td class="paramname">element</td><td>element after we which insert the new element </td></tr>
    <tr><td class="paramname">constraint</td><td>NEW_VALUE if data is new value, SEARCH_CONSTRAINT if data is constraint to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>No return value </dd></dl>

</div>
</div>
<a id="afca67a1ee5ada6576c78b1b88412ac4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afca67a1ee5ada6576c78b1b88412ac4a">&#9670;&nbsp;</a></span>AK_insert_row()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AK_insert_row </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlist__node.html">list_node</a> *&#160;</td>
          <td class="paramname"><em>row_root</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function inserts a one row into table. Firstly it is checked whether inserted row would violite reference integrity. Then it is checked in which table should row be inserted. If there is no AK_free space for new table, new extent is allocated. New block is allocated on given address. Row is inserted in this block and dirty flag is set to BLOCK_DIRTY. </p>
<dl class="section author"><dt>Author</dt><dd>Matija Novak, updated by Matija Šestak (function now uses caching), updated by Dejan Frankovic (added reference check), updated by Dino Laktašić (removed variable AK_free, variable table initialized using memset) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">row_root</td><td>list of elements which contain data of one row </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EXIT_SUCCESS if success else EXIT_ERROR </dd></dl>

</div>
</div>
<a id="a0c64f8efc4d19af4470cd464841a9e09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c64f8efc4d19af4470cd464841a9e09">&#9670;&nbsp;</a></span>AK_insert_row_to_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AK_insert_row_to_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlist__node.html">list_node</a> *&#160;</td>
          <td class="paramname"><em>row_root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAK__block.html">AK_block</a> *&#160;</td>
          <td class="paramname"><em>temp_block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function inserts one row into some block. Firstly it checks wether block contain attributes from the list. Then data, type, size and last_tuple_id are put in temp_block. </p>
<dl class="section author"><dt>Author</dt><dd>Matija Novak, updated by Dino Laktašić </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">row_root</td><td>list of elements to insert </td></tr>
    <tr><td class="paramname">temp_block</td><td>block in which we insert data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EXIT SUCCES if success </dd></dl>

</div>
</div>
<a id="a23547a35c7bdc6edb9f0a2ac140d3221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23547a35c7bdc6edb9f0a2ac140d3221">&#9670;&nbsp;</a></span>AK_Update_Existing_Element()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AK_Update_Existing_Element </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>attribute_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__node.html">list_node</a> *&#160;</td>
          <td class="paramname"><em>ElementBefore</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to add a constraint attribute which will define what element gets updated when the operation is executed. </p>
<dl class="section author"><dt>Author</dt><dd>Igor Rinkovec </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newtype</td><td>type of the data </td></tr>
    <tr><td class="paramname">data</td><td>the data </td></tr>
    <tr><td class="paramname">table</td><td>table name </td></tr>
    <tr><td class="paramname">attribute_name</td><td>attribute name </td></tr>
    <tr><td class="paramname">element</td><td>element after we which insert the new element </td></tr>
    <tr><td class="paramname">constraint</td><td>is NEW_VALUE </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>No return value </dd></dl>

</div>
</div>
<a id="a7ebc19a796fd12ceb80d74596df11c35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ebc19a796fd12ceb80d74596df11c35">&#9670;&nbsp;</a></span>AK_update_row()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AK_update_row </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlist__node.html">list_node</a> *&#160;</td>
          <td class="paramname"><em>row_root</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function updates rows of some table. </p>
<dl class="section author"><dt>Author</dt><dd>Matija Novak, Dejan Frankovic (added referential integrity) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">row_root</td><td>elements of one row </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EXIT_SUCCESS if success </dd></dl>

</div>
</div>
<a id="abf7fe78c26331b2a3a9f9b04b60be9e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf7fe78c26331b2a3a9f9b04b60be9e1">&#9670;&nbsp;</a></span>AK_update_row_from_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AK_update_row_from_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAK__block.html">AK_block</a> *&#160;</td>
          <td class="paramname"><em>temp_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__node.html">list_node</a> *&#160;</td>
          <td class="paramname"><em>row_root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function updates row from table in given block. </p>
<dl class="section author"><dt>Author</dt><dd>Matija Novak, updated by Dino Laktašić, updated by Mario Peroković - separated from deletion </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">temp_block</td><td>block to work with </td></tr>
    <tr><td class="paramname">row_list</td><td>list of elements which contain data for delete or update </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>No return value </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_fb6598a949f0f53f82ac9a1a956124c7.html">file</a></li><li class="navelem"><a class="el" href="fileio_8c.html">fileio.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
